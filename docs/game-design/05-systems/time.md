# 시간 시스템

## 개요

시간은 게임의 핵심 자원. 모든 행동에는 시간이 소모되며, 하루가 끝나면 루프가 리셋됨.

---

## 기본 설정

| 항목 | 값 |
|------|-----|
| 하루 시작 | 07:00 |
| 하루 종료 | 24:00 (자정) |
| 총 시간 | 17시간 (1020분) |
| 시간 단위 | 분 (minute) |

---

## 시간대 구분

```yaml
time_periods:
  early_morning:
    start: "07:00"
    end: "09:00"
    label: "이른 아침"
    color: "#FFA500"  # 주황

  morning:
    start: "09:00"
    end: "12:00"
    label: "오전"
    color: "#87CEEB"  # 하늘색

  lunch:
    start: "12:00"
    end: "14:00"
    label: "점심"
    color: "#90EE90"  # 연두

  afternoon:
    start: "14:00"
    end: "18:00"
    label: "오후"
    color: "#FFD700"  # 금색

  evening:
    start: "18:00"
    end: "22:00"
    label: "저녁"
    color: "#9370DB"  # 보라

  night:
    start: "22:00"
    end: "24:00"
    label: "심야"
    color: "#191970"  # 남색
```

---

## 시간 소모 규칙

### 행동별 소모

| 행동 유형 | 소모 시간 | 예시 |
|-----------|-----------|------|
| 이동 (같은 층) | 5분 | 사무실→화장실 |
| 이동 (다른 층) | 10~15분 | 7층→1층 |
| 이동 (외부) | 30분+ | 회사→자택 |
| 짧은 대화 | 10~15분 | 인사, 가벼운 수다 |
| 일반 대화 | 20~30분 | 업무 관련 |
| 깊은 대화 | 30~60분 | 진지한 대화, 고민 상담 |
| 업무 | 30~120분 | 코딩, 회의, 보고서 |
| 식사 | 30~60분 | 점심, 저녁 |
| 휴식 | 15~30분 | 커피, 산책 |
| 조사 | 30~60분 | 탐색, 단서 찾기 |

### 특수 시간 소모

| 행동 | 시간 | 조건 |
|------|------|------|
| 아침 회의 | 30분 (고정) | 09:00 필수 |
| 12층 탐색 | 60분+ | 야간만 가능 |
| 미행 | 30~60분 | 발각 시 추가 |

---

## 시간 제약

### 시간대별 제한

```yaml
restrictions:
  cafe:
    open: "08:00"
    close: "21:00"

  cafeteria:
    lunch: "11:30~14:00"
    dinner: "17:30~19:00"

  rooftop:
    day: "09:00~21:00"
    night: "22:00~24:00"  # 특수 조건

  lab_12f:
    accessible: "22:00~24:00"  # 야간 침입
```

### 필수 이벤트

| 시간 | 이벤트 | 스킵 가능 |
|------|--------|-----------|
| 09:00 | 아침 회의 | 불참 시 평판 - |
| 12:00 | 점심시간 | 선택 |
| 18:00 | 퇴근 가능 | 선택 |
| 24:00 | 강제 루프 종료 | 불가 |

---

## 시간 표시

### UI 형식

```
현재 시간: 14:30
남은 시간: 9시간 30분

[━━━━━━━━━━░░░░░░░░░░] 57%
 아침  오전  점심  오후  저녁  심야
```

### 시간 경과 표현

```
[짧은 시간 경과]
"잠시 후..."

[보통 시간 경과]
"30분이 지났다."

[긴 시간 경과]
"어느새 해가 기울었다."
```

---

## 시간 조작

### 광고 보상: 시간 연장

```yaml
time_extension:
  trigger: "21:00 이후"
  prompt: "조금 더 할 수 있을 것 같은데..."
  reward: "+2시간 (23:00까지)"
  limit: "루프당 1회"
  type: "rewarded_ad"
```

### 스킵 (루프 5+)

```yaml
time_skip:
  condition: "이미 경험한 이벤트"
  prompt: "[스킵] 이미 알고 있는 내용이다"
  effect: "해당 이벤트 시간 단축 50%"
```

---

## 시간과 스탯

### 시간대별 스탯 변화

| 시간대 | 체력 | 멘탈 | 비고 |
|--------|------|------|------|
| 오전 | - | - | 기본 |
| 오후 | -0.5/시간 | -0.3/시간 | 누적 피로 |
| 저녁 | -1/시간 | -0.5/시간 | 야근 페널티 |
| 심야 | -2/시간 | -1/시간 | 높은 피로 |

### 휴식 효율

| 시간대 | 커피 효과 | 휴식 효과 |
|--------|-----------|-----------|
| 오전 | 멘탈 +7 | 체력 +10 |
| 오후 | 멘탈 +5 | 체력 +8 |
| 저녁 | 멘탈 +3 | 체력 +5 |
| 심야 | 멘탈 +1 | 체력 +3 |

---

## 시간 전략

### 효율적인 하루

```
07:00 - 기상, 준비
08:00 - 일찍 출근 (지현 만남 가능)
09:00 - 아침 회의 (필수)
10:00 - 업무 or 탐색
12:00 - 점심 (관계 발전)
14:00 - 부장 자리 비움 → 조사
17:00 - 부장 12층 → 미행 기회
18:00 - 퇴근 or 야근
22:00 - 12층 침입 (야간)
```

### 시간 부족 상황

모든 것을 할 수 없음 → 선택 필요

- 관계 발전 vs 단서 수집
- 업무 (평판) vs 탐색 (정보)
- 일찍 퇴근 (스탯) vs 야근 (기회)

---

## 데이터 구조

```typescript
interface TimeSystem {
  // 현재 시간 (분 단위, 0 = 00:00)
  currentTime: number;  // 예: 540 = 09:00

  // 시간 계산 헬퍼
  addTime(minutes: number): void;
  getCurrentPeriod(): TimePeriod;
  getRemainingTime(): number;
  formatTime(minutes: number): string;

  // 시간 체크
  canAccess(location: string): boolean;
  isEventAvailable(eventId: string): boolean;
}

// 상수
const DAY_START = 7 * 60;  // 420 (07:00)
const DAY_END = 24 * 60;   // 1440 (24:00)
```

---

## 연출 참고

### 시간 흐름 묘사

```
아침: "아침 햇살이 창문으로 들어온다."
오전: "사무실에 키보드 소리가 울린다."
점심: "배에서 소리가 난다."
오후: "슬슬 졸음이 밀려온다."
저녁: "창밖으로 노을이 보인다."
심야: "건물에 인기척이 없다."
```

### 시간 압박 연출

```
21:00: "벌써 이 시간이야..."
22:00: "조금만 더 하면..."
23:00: "시간이 없다."
23:30: "서둘러야 해."
23:50: "10분 남았다...!"
```
